\documentclass[fr, license=none]{../../../../../../eplexam}

\usepackage{../../../../../../eplcode}

\lstset{language={C}}

\hypertitle{Systèmes informatiques}{4}{SINF}{1252}{2017}{Août}{Majeure}
{Gilles Peiffer \and Thomas Reniers}
{Olivier Bonaventure}

% TODO : Partie théorique, vient avant INGInious (where are the questions though...).

Le syllabus est accessible depuis l'URL \url{http://sites.uclouvain.be/SystInfo}.

\textbf{Les pages de manuel sont accessibles depuis les URLs suivants :}
\begin{itemize}
     \item \url{http://sites.uclouvain.be/SystInfo/manpages/man1} (commandes);
     \item \url{http://sites.uclouvain.be/SystInfo/manpages/man2} (appels systèmes);
     \item \url{http://sites.uclouvain.be/SystInfo/manpages/man3} (fonctions librairies).
\end{itemize}

\textbf{Attention:} veuillez utiliser la version \textbf{\html{}} du syllabus.

\section{Fusion de chaînes de caractères}

\begin{lstlisting}
/*
  * @pre n>0, ptr!=NULL et contient n pointeurs (!=NULL) vers des
  *  chaînes de caractères non-vides qui se terminent par '\0'
  * @post retourne la chaîne de caractères qui est la concaténation des
  *  chaînes de caractères dont les pointeurs sont passés dans le tableau ptr dans
  *  l'ordre croissant des indices. La chaîne retournée doit
  *  bien entendu se terminer sur `\0`.
  *
  * Contrainte : Vous ne pouvez utiliser *aucune* fonction
  * de manipulation des chaînes de caractères (strcat,
  * strncat, strdup, strlen, ...) de la librairie standard.
  * Si vous avez besoin d'une de ces fonctions,
  * réimplémentez une fonction équivalente.
  *
  * Exemple d'utilisation
  *   char *n1="Olivier";
  *   char *n2="Fabien";
    *   char *n3="David";
    *   char *n4="Simon";
  *   char * tab[4]={n1,n2,n3,n4};
  *   printf("%s\n",strmerge(3,tab));
  * Affiche: OlivierFabienDavid
  */
char * strmerge(int n, char* ptr[]) {

\end{lstlisting}

\begin{solution}

\begin{lstlisting}
int i,j;
int size=0;
for(i = 0 ; i < n ; i++)
{
    char* toAdd = ptr[i];
    for(j = 0 ; toAdd[j] != '\0' ; j++)
    {
    }
    size += j-1;
}
int length = 0;
char* toSend = (char*) malloc(sizeof(char)*size+1);
if(toSend==NULL){return NULL;}
for(i = 0 ; i < n ; i++)
{
    char* toAdd = ptr[i];
    for(j = 0 ; toAdd[j] != '\0' ; j++)
    {
        toSend[length] = toAdd[j];
        length++;
    }
}
toSend[length+1] = '\0';
return toSend;

\end{lstlisting}

\end{solution}

% TODO Missing questions...

\end{document}
